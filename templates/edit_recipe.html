{% extends "base.html" %} {% block content %}

<section class="container">
    <div class="row">
        <div class="col s12 center-align">
            <h3 class="header-title">Edit Recipe</h3>
        </div>
    </div>
    <div class="row card-panel lighten-5">
        <form class="col s12" method="POST" action="{{ url_for('edit_recipe', recipe_id=recipe._id) }}">
            <!------------------------------Select-Category-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-folder-open prefix"></i>
                    <select id="category_name" name="category_name" class="validate" required>
                        <option value="" disabled>Choose your category</option>
                        {% for category in categories %} {% if category.category_name == recipe.category_name %}
                        <option value="{{ category.category_name }}" selected>{{ category.category_name }}</option>
                        {% else %}
                        <option value="{{ category.category_name }}">{{ category.category_name }}</option>
                        {% endif %} {% endfor %}
                    </select>
                    <label for="category_name">Category Name</label>
                </div>
            </div>
            <!------------------------------Recipe-name-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-pencil-alt prefix text-darken-4"></i>
                    <input id="recipe_name" name="recipe_name" type="text" minlength="5"
                         maxlength="20" class="validate" value="{{recipe.recipe_name}}" required />
                    <label for="recipe_name">Recipe Name</label>
                </div>
            </div>
            <!------------------------------Recipe-Description-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-align-left prefix"></i>
                    <textarea id="recipe_description" name="recipe_description" 
                        type="text" minlength="5" maxlength="300" class="materialize-textarea validate" required>
                        {{- recipe.recipe_description -}}
                    </textarea>
                    <label for="recipe_description">Recipe Description</label>
                </div>
            </div>
            <!------------------------------Ingredients-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-thermometer-full prefix"></i>
                    <textarea id="ingredients" name="ingredients" 
                           type="text" class="materialize-textarea validate" required>
                        {{- recipe.ingredients -}}
                    </textarea>
                    <label for="ingredients">Ingredients</label>
                </div>
            </div>
            <!------------------------------Instructions-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-hard-hat prefix"></i>
                    <textarea id="instructions" name="instructions" 
                         type="text" class="materialize-textarea validate" required>
                        {{- recipe.instructions -}}
                    </textarea>
                    <label for="instructions">Instructions</label>
                </div>
            </div>
            <!------------------------------Preperation-time-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="far fa-clock prefix"></i>
                    <input id="prep_time" name="prep_time" type="number" step="1" 
                        min="0" value="{{recipe.prep_time}}" class="validate" required />
                    <label for="prep_time">Prep Time </label>
                </div>
            </div>
            <!------------------------------Cooking-time-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-fire prefix"></i>
                    <input id="cooking_time" name="cooking_time" type="number" 
                        step="1" min="0" value="{{recipe.cooking_time}}" class="validate" required />
                    <label for="cooking_time">Cooking Time </label>
                </div>
            </div>
            <!------------------------------Serves-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-concierge-bell prefix"></i>
                    <input id="serves" name="serves" type="number" step="1" min="0" 
                           value="{{recipe.serves}}" class="validate" required />
                    <label for="serves">Serves</label>
                </div>
            </div>
            <!-----------------------------Created_at-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="far fa-plus-square prefix"></i>
                    <input id="created_at" name="created_at" type="text" class="timepicker validate" 
                           value="{{recipe.created_at}}" required />
                    <label for="created_at">Created_at </label>
                </div>
            </div>
            <!-----------------------------Updated_at-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-history prefix"></i>
                    <input id="updated_at" name="updated_at" type="text" class="timepicker validate" 
                          value="{{recipe.updated_at}}" required />
                    <label for="updated_at">Updated_at</label>
                </div>
            </div>
            <!----------------------------Image-url-field-->
            <div class="row">
                <div class="input-field col s12">
                    <i class="fas fa-file-image prefix"></i>
                    <input id="image" name="image" type="text" class="validate" 
                           value="{{recipe.image}}" required />
                    <label for="image">Image_url</label>
                </div>
            </div>
            <div class="row">
                <div class="input-field col s12">
                    <div class="switch">
                        <i class="fas fa-exclamation-circle prefix"></i>
                        <label for="is_veg">
                            {% if recipe.is_veg == true %}
                            <input type="checkbox" name="is_veg" id="is_veg" class="validate" checked />
                            {% else %}
                            <input type="checkbox" name="is_veg" id="is_veg" class="validate" />
                            {% endif %}
                            <span class="lever text-darken-4"></span>
                            Is Vegan
                        </label>
                    </div>
                </div>
            </div>
            <!---------------------------Submit-buttom-->
            <div class="row">
                <div class="col s12 center-align edit_btn">
                    <a href="{{url_for('recipes')}}" class="btn text-shadow waves-effect"> Cancel <i class="fas fa-times-circle right"></i> </a>
                    <button class="btn waves-effect text-shadow" type="submit">
                        Edit Recipe
                        <i class="fas fa-edit right"></i>
                    </button>
                </div>
            </div>
        </form>
    </div>
</section>

{% endblock %}
